(this.webpackJsonptypescriptapp=this.webpackJsonptypescriptapp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),s=a.n(l),c=(a(93),a(17)),o=a(13),i=a(22),m=a(20),u=(a(94),a(27)),d=(a(95),a(74)),p=a.n(d),h=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"header__navigation"},r.a.createElement(u.b,{to:"/",className:"nasaLogo"},r.a.createElement("img",{src:p.a,alt:""})),r.a.createElement(u.b,{to:"/nasa-img-gallery",className:"header__navigation--link"},"CURRENT IMAGE"),r.a.createElement(u.b,{to:"/catalog",className:"header__navigation--link"},"CATALOG")))}}]),a}(r.a.Component),g=a(21),f=(a(100),a(42)),E=function(e){return void 0===e.images.selectedImgObj.url?"undefined":e.images.selectedImgObj},v=function(e){return e.images.imgObjects},b=(a(102),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"latestImgs"},r.a.createElement("div",{className:"latestImgs__title"},"Latest images"),r.a.createElement("div",{className:"latestImgs__content"},r.a.createElement("div",{className:"latestImgs__content--wrapper"},this.props.latestImgs.map((function(e){return r.a.createElement("div",{className:"latestImgs__wrapper--item"},r.a.createElement("img",{src:e,alt:""}))})))))}}]),a}(r.a.Component)),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeCurrentImg=function(e){n.addImgToLatest(),n.setState({selectedDate:e.target.value},n.setNewImg)},n.setNewImg=function(){n.props.getSelectedDateImg(n.state.selectedDate)},n.state={selectedDate:"",latestSelectedDate:"",currentDate:"",latestImgs:[]},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=new Date;this.setState({currentDate:e.getFullYear()+"-0"+(e.getMonth()+1)+"-"+e.getDate(),latestSelectedDate:null===localStorage.getItem("latestSelectedDate")?this.state.currentDate:localStorage.getItem("latestSelectedDate")})}},{key:"componentDidMount",value:function(){this.props.getSelectedDateImg(this.state.latestSelectedDate)}},{key:"addImgToLatest",value:function(){var e=this;void 0===this.state.latestImgs.find((function(t){return t===e.props.dateImg.url}))&&"video"!==this.props.dateImg.mediaType&&this.setState({latestImgs:[].concat(Object(g.a)(this.state.latestImgs),[this.props.dateImg.url])})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"holder"},r.a.createElement("div",{className:"dateImg"},r.a.createElement("input",{className:"calendar",id:"outlined-basic",type:"date",value:this.state.selectedDate,max:this.state.currentDate,onChange:function(t){return e.changeCurrentImg(t)}}),"image"===this.props.dateImg.mediaType?r.a.createElement("div",{className:"dateImg__wrapper",style:{backgroundImage:"url(".concat(this.props.dateImg.url,")")}}):r.a.createElement("div",{className:"dateVideo__wrapper"},r.a.createElement("iframe",{width:"570",height:"415",src:this.props.dateImg.url})),r.a.createElement("div",{className:"dateImg__description"},r.a.createElement("div",{className:"dateImg__description--title"},this.props.dateImg.title),r.a.createElement("div",{className:"dateImg__description--text"},this.props.dateImg.explanation))),r.a.createElement(b,{latestImgs:this.state.latestImgs}))}}]),a}(r.a.Component),_={getSelectedDateImg:function(e){return function(t,a){return t({type:"GET_SELECTED_DATE_IMG",callAPI:"https://api.nasa.gov/planetary/apod?api_key=s0Bgn85OLjsXTfgCmhRgAAiu5fjVJrh2KJ5lqeZ7&date="+e})}}},O=Object(f.b)((function(e){return{dateImg:E(e)}}),_)(I),y=(a(103),a(174)),N=a(177),j=a(171),S=a(172),A=a(173),C=a(132),w=a(178),T=a(179),D=a(175),M=a(166),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).openModal=function(e){var t=e.target.dataset.id;n.setState({open:!0,modalImgInfo:n.props.monthImages[t]})},n.handleClose=function(){n.setState({open:!1})},n.handleChange=function(e,t){"month"===t?n.setState({selectedMonth:e.target.value},n.callApi):n.setState({selectedYear:e.target.value},n.callApi)},n.callApi=function(){n.props.clearArray();for(var e=1;28!==e;)n.props.getImgs(n.state.selectedYear+"-"+n.state.selectedMonth+"-"+e),e++},n.state={open:!1,modalImgInfo:{},months:[{monthName:"January",monthValue:"01"},{monthName:"February",monthValue:"02"},{monthName:"March",monthValue:"03"},{monthName:"April",monthValue:"04"},{monthName:"May",monthValue:"05"},{monthName:"June",monthValue:"06"},{monthName:"July",monthValue:"07"},{monthName:"August",monthValue:"08"},{monthName:"September",monthValue:"09"},{monthName:"October",monthValue:"10"},{monthName:"November",monthValue:"11"},{monthName:"December",monthValue:"12"}],years:["2020","2019","2018","2017"],selectedMonth:"",selectedYear:""},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.props.clearArray();for(var e=new Date,t=e.getDate();-1!==t;)this.props.getImgs(e.getFullYear()+"-0"+(e.getMonth()+1)+"-"+t),t--;this.setState({selectedMonth:"0"+(e.getMonth()+1),selectedYear:String(e.getFullYear())})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"catalog"},r.a.createElement("div",{className:"catalog__header"},r.a.createElement("div",{className:"catalog__header--text"},"Nasa Image Gallery"),r.a.createElement("div",{className:"filterInputs"},r.a.createElement(M.a,{className:"catalog__selectInput"},r.a.createElement(w.a,{id:"demo-simple-select-label"},"Month"),r.a.createElement(D.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.selectedMonth,onChange:function(t){return e.handleChange(t,"month")}},r.a.createElement(T.a,{value:""},"Month"),this.state.months.map((function(e,t){var a=new Date;return+e.monthValue<=a.getMonth()+1?r.a.createElement(T.a,{value:e.monthValue},e.monthName):r.a.createElement(T.a,{value:e.monthValue,disabled:!0},e.monthName)})))),r.a.createElement(M.a,{className:"catalog__selectInput"},r.a.createElement(w.a,{id:"demo-simple-select-label"},"Year"),r.a.createElement(D.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.selectedYear,onChange:function(t){return e.handleChange(t,"year")}},this.state.years.map((function(e,t){return r.a.createElement(T.a,{value:e},e)})))))),r.a.createElement("div",{className:"catalog__gallery"},this.props.monthImages.map((function(t,a){return r.a.createElement("div",{className:"catalog__gallery--item"},"image"===t.mediaType?r.a.createElement("div",{className:"content",onClick:function(t){return e.openModal(t)},style:{backgroundImage:"url(".concat(t.url,")")},"data-id":a}):r.a.createElement("div",{className:"content","data-id":a},r.a.createElement("iframe",{width:"100%",height:"100%",src:t.url})),r.a.createElement("div",{className:"itemOppositeSide"},r.a.createElement("span",null,t.title)),r.a.createElement("button",{className:"learnMoreBtn","data-id":a,onClick:function(t){return e.openModal(t)}},"Read explanation"))})),r.a.createElement(N.a,{onClose:this.handleClose,"aria-labelledby":"customized-dialog-title",open:this.state.open},r.a.createElement(j.a,{id:"customized-dialog-title"},this.state.modalImgInfo.title),r.a.createElement(S.a,{dividers:!0},r.a.createElement(C.a,{gutterBottom:!0},r.a.createElement("span",{className:"bold"},"Date: "),this.state.modalImgInfo.date),r.a.createElement(C.a,{gutterBottom:!0,className:"modalExplanation"},r.a.createElement("span",{className:"bold"},"Explanation: "),this.state.modalImgInfo.explanation)),r.a.createElement(A.a,null,r.a.createElement(y.a,{autoFocus:!0,onClick:this.handleClose,className:"closeModalBtn"},"Close")))))}}]),a}(r.a.Component),R={getImgs:function(e){return function(t,a){return t({type:"GET_ALL_MONTH_IMG",callAPI:"https://api.nasa.gov/planetary/apod?api_key=s0Bgn85OLjsXTfgCmhRgAAiu5fjVJrh2KJ5lqeZ7&date="+e})}},clearArray:function(){return{type:"CLEAR_ARRAY",payload:[]}}},L=Object(f.b)((function(e){return{monthImages:v(e)}}),R)(k),V=(a(104),a(76)),G=a.n(V),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"starBackground",style:{backgroundImage:"url(".concat(G.a)}},r.a.createElement("div",{className:"welcomeBanner"},r.a.createElement("div",{className:"welcomeBanner__content"},r.a.createElement("h1",{className:"welcomeBanner__content--title"},"Welcome to NASA images gallery"),r.a.createElement("div",{className:"welcomeBanner__content--subtitle"},"One of the biggest star galleries in the world"),r.a.createElement("div",{className:"welcomeBanner__content--line"}),r.a.createElement("div",{className:"welcomeBanner__content--buttons"},r.a.createElement(u.b,{to:"/nasa-img-gallery",className:"link"},"CURRENT IMAGE"),r.a.createElement(u.b,{to:"/catalog",className:"link"},"CATALOG")))))}}]),a}(r.a.Component),B=a(10),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={parentName:"App"},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(B.c,null,r.a.createElement(B.a,{exact:!0,path:"/",component:x}),r.a.createElement(B.a,{path:"/nasa-img-gallery",component:O}),r.a.createElement(B.a,{path:"/catalog",component:L})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(30),J=a(77),W=a(15),U=a(59),F=a.n(U),q=a(122),z=a(123);F.a.interceptors.response.use((function(e){return e}),(function(e){throw 401===e.response.status&&(window.location.href="/"),403===e.response.status&&(window.location.href="#/forbidden"),e}));var H=function(e){return e.url=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.startsWith("http")||e.startsWith("data:image"))return e;var t=e.startsWith("/")?e.substring(1):e;return""+t}(e.url),F()(e).then((function(e){var t,a=e.data;return a?"object"===typeof a?Promise.resolve("object"===typeof(t=a)?q(z(t)):"string"===typeof t?q(z(JSON.parse(t))):t):Promise.resolve(a):Promise.resolve({status:e.status,statusText:e.statusText})}))},K=function(e){return function(t){return function(a){var n=a.callAPI,r=a.type;if("undefined"===typeof n)return t(a);var l={withCredentials:!1};if("string"===typeof n)l.url=n;else if("function"===typeof n)l.url=n(e.getState());else{if("object"!==typeof n)throw new Error("Unsupported type of callAPI parameter, typeof callAPI is '".concat(typeof n,"'"));l=Object(W.a)(Object(W.a)({},l),n)}var s=function(e){var t=Object(W.a)(Object(W.a)({},a),e);return delete t.callAPI,t};return t(s({type:r+"_START"})),H(l).then((function(e){return t(s({type:r+"_SUCCESS",response:e})),Promise.resolve(e)})).catch((function(e){return t(s({type:r+"_ERROR",error:e})),Promise.reject(e)}))}}},X=a(78),Z=a(79),$=a.n(Z)()({basename:"",hashType:"slash"}),Q={selectedImgObj:{},imgObjects:[]};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.response;switch(void 0!==r&&localStorage.setItem("latestSelectedDate",r.date),a){case"GET_SELECTED_DATE_IMG_START":return Object(W.a)(Object(W.a)({},e),{},{load:!0},n);case"GET_SELECTED_DATE_IMG_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{selectedImgObj:r});case"GET_SELECTED_DATE_IMG_ERROR":return Object(W.a)(Object(W.a)(Object(W.a)({},e),n),{},{error:!0});case"GET_ALL_MONTH_IMG_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{imgObjects:[].concat(Object(g.a)(e.imgObjects),[r])});case"CLEAR_ARRAY":return Object(W.a)(Object(W.a)({},e),{},{imgObjects:[]})}return e},te=Object(Y.combineReducers)({images:ee}),ae=a(80),ne=Object(ae.composeWithDevTools)({features:{pause:!0,lock:!0,jump:!0,skip:!0,dispatch:!0,test:!1,reorder:!1,persist:!1,export:!1}});var re=Object(Y.createStore)(te,ne(Object(Y.applyMiddleware)(J.a,K,Object(X.routerMiddleware)($))));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:re},r.a.createElement(u.a,null,r.a.createElement(P,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a.p+"static/media/nasa.2528d18a.png"},76:function(e,t,a){e.exports=a.p+"static/media/satr-back.df95af7d.jpg"},88:function(e,t,a){e.exports=a(131)},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.860026d1.chunk.js.map